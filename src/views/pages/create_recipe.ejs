<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>
<main>
    <script>
      function addIngredientInput() {
        console.log('bro');
        var newQuantityInput = document.createElement("input");
        var newUnitInput = document.createElement("input");
        var newIngredientInput = document.createElement("input");
        newQuantityInput.classList.add("flex", "h-5", "mt-5", "ring-1", "ring-gray-900/5", "rounded-lg", "p-5", "w-20");
        newUnitInput.classList.add("flex", "h-5", "mt-5", "ring-1", "ring-gray-900/5", "rounded-lg", "p-5", "w-20");
        newIngredientInput.classList.add("flex", "h-5", "mt-5", "ring-1", "ring-gray-900/5", "rounded-lg", "p-5", "w-50");
        newQuantityInput.placeholder = "Num";
        newUnitInput.placeholder = "Unit";
        newIngredientInput.placeholder = "Ingredient Name";
        newQuantityInput.name = "quantity";
        newUnitInput.name = "unit";
        newIngredientInput.name = "ingredient";
        newQuantityInput.type = "quantity";
        newUnitInput.type = "unit";
        newIngredientInput.type = "ingredient";
        var innerContainer = document.createElement("div");
        innerContainer.classList.add("relative", "flex", "flex-row", "space-x-3");
        innerContainer.appendChild(newQuantityInput)
        innerContainer.appendChild(newUnitInput)
        innerContainer.appendChild(newIngredientInput)
        var outerContainer = document.getElementById("ingredientContainer");
        outerContainer.appendChild(innerContainer);
      }
    </script>
    <div
        class="relative bg-white px-6 pt-8 pb-8 shadow-xl ring-1 ring-gray-900/5 sm:mx-auto sm:max-w-lg sm:rounded-lg sm:px-10"
      >
        <form class="relative flex-col space-y-3" action="\create_recipe" method="POST">
            <h1 class="text-2xl font-bold mb-5">Create Recipe</h1>
            <%- include ('../partials/message') %>
            <div class="">
              <input
              class="flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-80"
              name="recipe_name"
              type="recipe_name"
              placeholder="Recipe name"
              required
              />
            </div>
            <div class="">
              <input
                class="flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-80"
                name="recipe_desc"
                type="recipe_desc"
                placeholder="Recipe description"
                required
              />
            </div>
            <div class="">
                <input
                  class="flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-80"
                  name="recipe_img_url"
                  type="recipe_img_url"
                  placeholder="Recipe Image Url"
                  required
                />
            </div>
            <h1>Ingredients:</h1>
            <div class="ml-5 space-y-3" >
                <div class="" id="ingredientContainer">
                  <div class="relative flex flex-row space-x-3">
                    <input
                      class="relative flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-20"
                      name="ingredient_1"
                      type="ingredient_1"
                      placeholder="Num"
                      required
                    />
                    <input
                      class="relative flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-20"
                      name="ingredient_1"
                      type="ingredient_1"
                      placeholder="Unit"
                      required
                    />
                    <input
                      class="relative flex h-5 ring-1 ring-gray-900/5 rounded-lg p-5 w-50"
                      name="ingredient_1"
                      type="ingredient_1"
                      placeholder="Ingredient Name"
                      required
                    />
                  </div>
                </div>
                <button type="button" onclick="addIngredientInput()" class="bg-blue-500 hover:bg-blue-400 px-5 py-2 rounded-lg text-white">
                  +
                </button>
              </div>
            </div>
            
            <div class="flex py-2">
              <button type="submit" class="bg-blue-500 hover:bg-blue-400 px-5 py-2 rounded-lg text-white" id="submit_button">
                Add recipe
              </button>
            </div>
            <div class="flex justify-center text-md">
              <text>Return to recipes</text>
              <a href="/recipes" method="GET" class="underline text-blue-600 hover:text-blue-800 visited:text-purple-600">Recipes</a>
            </div>
        </form>
    </div>
</main>

<%- include ('../partials/footer') %>